{"version":3,"sources":["main.js"],"names":["darkMode","preferDarkMode","window","matchMedia","matches","document","body","classList","add","remove","addEventListener","querySelector","toggle","resultado","intentosDiv","palabras","adivina","letras","palabraAdivinar","imagen","malas","palabraMostrar","entrada","juego","finalizado","innerHTML","onkeyup","evento","getElementById","letra","key","toUpperCase","test","adivinar","estado","palabra","dibujar","html","hombre","errado","elemento","previo","src","word","adivinado","span","createElement","txt","createTextNode","has","nodeValue","setAttribute","appendChild","restante","agregarPalabra","newWord","value","expres","length","alert","sinAcento","normalize","replace","location","href","sessionStorage","setItem","nuevaPalabra","getItem","palabraAleatoria","aleatoria","Math","floor","random","nuevoJuego","Set","size","removeItem","push"],"mappings":"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","file":"bundle.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function(){\r\n    darkMode();\r\n});\r\n\r\nfunction darkMode(){\r\n    //Toma el tema por defecto del sistema del usuario\r\n    const preferDarkMode = window.matchMedia('(prefers-color-scheme: dark)'); \r\n\r\n    //Permite gregar o quitar la clse de dark-mode en scss segun el tema por defecto del sistema operativo del usuario\r\n    if(preferDarkMode.matches){\r\n        document.body.classList.add('dark-mode'); //Selecciona todo el documento y le agrega la clase\r\n    }\r\n    else{\r\n        document.body.classList.remove('dark-mode'); //Remueve la clase de dark-mode\r\n    }\r\n\r\n    /* Este código me permite colocar el modo oscuro automaticamente si el usuario lo habilita\r\n     en su computadora */\r\n     preferDarkMode.addEventListener('change', function (){ //Esto automaticamente coloca el color predeterminado\r\n        if (preferDarkMode.matches) {\r\n            document.body.classList.add('dark-mode');\r\n        }\r\n        else{\r\n            document.body.classList.remove('dark-mode');\r\n        }\r\n    });\r\n\r\n    const botonDarkMode = document.querySelector(\".btn-darkMode\");\r\n      //Agregando o quitando el modo oscuro\r\n      botonDarkMode.addEventListener('click', function(){\r\n        document.body.classList.toggle(\"dark-mode\");\r\n    });\r\n}\r\n\r\n'use strict'\r\n\r\n// var btnAdd = document.getElementById('addPalabra');\r\n// var btnNuevo = document.getElementById('nuevoJuego');\r\nvar resultado = document.querySelector(\".resultado\");\r\nvar intentosDiv = document.querySelector(\".intentos\");\r\nvar palabras = ['CONSOLA', 'PLATAFORMA', 'ALURA', 'JAVASCRIPT', 'HTML', 'CHALLENGE'];\r\nvar adivina = document.querySelector('.adivina');\r\nvar letras = document.querySelector('.letras')\r\nvar palabraAdivinar = [];\r\n\r\n// var newWord = document.querySelector(\".input-palabra\").value;\r\nvar imagen = document.querySelector('.guillotina')\r\nvar malas = document.querySelector('.malas');\r\nvar palabraMostrar = [];\r\nvar entrada = document.querySelector('.entrada');\r\n\r\nvar juego = null; //Guardamos valor actual\r\nvar finalizado = false;\r\nmalas.innerHTML = '';\r\n\r\n//Tomamos las letras que el usuario ingresa    \r\nwindow.onkeyup = function adivinarLetra(evento){\r\n    var btnNuevo = document.getElementById(\"btnNuevo\");\r\n    var letra = evento.key;\r\n    letra = letra.toUpperCase();\r\n    letra = entrada;\r\n    if(/[^A-ZÑ]/.test(letra)){\r\n        return;\r\n    }\r\n    adivinar(juego, letra);\r\n\r\n    var estado = juego.estado;\r\n    if(estado === 8 && !finalizado){ //Si completo la palabra y no se completo el muñeco muestra ganado\r\n        // window.onkeypress == null;\r\n        malas.innerHTML = `<h1 class=\"gana\">¡Felicidades, ganaste!</h1>`;\r\n        finalizado == true;\r\n\r\n    }else if(estado === 1 && !finalizado){  //Si completo el muñeco antes de finalizar la palabra le muestra perdido\r\n        let palabra = juego.palabra; //guarda la palabra mostrada\r\n        malas.innerHTML = `<h1 class=\"mala\">¡Fin del juego. Era ${palabra}!</h1>`;\r\n        // alert('¡Oh no, perdiste!. La palabra era: ' + palabra)\r\n        finalizado == true;\r\n        \r\n    }\r\n    dibujar(juego);\r\n}\r\n\r\n\r\n\r\n//Obtejo para los elementos del html\r\nvar html = {\r\n    hombre: document.getElementById('ahorcado'),\r\n    adivina: document.querySelector('.adivina'),\r\n    errado: document.querySelector('.errado')\r\n}\r\n\r\n\r\nfunction dibujar(juego){\r\n    //imagen segun el estado del dibujo\r\n    var elemento;\r\n    elemento = html.hombre;\r\n    var estado = juego.estado;\r\n    if(estado === 8){\r\n        estado = juego.previo; \r\n    }\r\n        elemento.src = `public/img/0${estado}.png`; //Muestra la imagen\r\n\r\n    // elemento = html.adivina;\r\n\r\n    //Letras a adivinar\r\n    let word = juego.palabra;\r\n    var adivinado = juego.adivinado;\r\n    elemento = html.adivina;\r\n\r\n    elemento.innerHTML = ' ';\r\n    for(let letra of word) {\r\n        let span = document.createElement('span'); //\r\n        span.classList.add('letra'); \r\n\r\n        let txt = document.createTextNode('');\r\n        if(adivinado.has(letra)){ //Debemos colocar has cuando trabajamos con conjuntos (new Set())\r\n            txt.nodeValue = letra;\r\n        }\r\n        span.setAttribute('class', 'letra adivinada'); //Le colocamos la clase para ser modificada\r\n        span.appendChild(txt);\r\n        elemento.appendChild(span); //Muestra las letras en la etiqueta span\r\n    }\r\n\r\n    //Mostramos las letras erradas\r\n    var errado = juego.errado ;\r\n    elemento = html.errado;\r\n    elemento.innerHTML = ' '; //Eliminamos los datos\r\n    for(let letra of errado){\r\n        let span = document.createElement('span');\r\n        let txt = document.createTextNode(letra);\r\n        span.setAttribute('class', 'letra errada');\r\n        span.appendChild(txt);\r\n        elemento.appendChild(span);\r\n    }\r\n}\r\n\r\n\r\n//Adivinar la palabra\r\nfunction adivinar(juego, letra){\r\n    var estado = juego.estado;\r\n    //Si ya perdimos o ganamos no continua el juego\r\n    if (estado === 1 || estado === 8){\r\n        return;\r\n    }\r\n\r\n    var adivinado = juego.adivinado;\r\n    var errado = juego.errado;\r\n    //Al adivinar la letra o errarla, seguimos\r\n    if(adivinado.has(letra) || errado.has(letra)){ //has letra\r\n        return;\r\n    }\r\n    var palabra = juego.palabra;\r\n    var letras = juego.letras;\r\n    //Si la letra pertenece a la palabra\r\n    if(letras.has(letra)){\r\n         //Agregamos a la lista de letras adivinadas\r\n        adivinado.add(letra);\r\n        //Actualizamos las letras adivinadas\r\n        juego.restante--;\r\n        if(juego.restante === 0){\r\n\r\n            juego.previo = juego.estado;\r\n            juego.estado = 8;\r\n        }\r\n    }else{\r\n        //Si a errado en una letra la agregamos al arreglo de letras malas y avanzamos en el dibujo del ahorcado\r\n        juego.estado--; //Le disminuimos porque el valor lo empezamos en 7\r\n        errado.add(letra);\r\n    }\r\n}\r\n\r\n\r\n\r\n//funcion agregar nueva palabra\r\nfunction agregarPalabra(){\r\n        var newWord = document.querySelector(\".input-palabra\").value;\r\n        const expres = /[\\s\\d.*+\\-¿?^$@{}´\\u00E0-\\u00FC'()|[\\]\\\\]/gu.test(newWord); //Expresion regular áéíóú-ÁÉÍÓÚ, quita acentos\r\n    if(newWord.length > 8 || newWord == ''){\r\n        alert(\"Ingrese una palabra sin acento y 8 letras maximo\");\r\n    }  \r\n    else{ \r\n            if(expres == true){   \r\n                    //Se añaden las letras validas\r\n                    alert('Escriba una palabra válida o sin acentos');\r\n    \r\n            }else{\r\n                    \r\n                    //Quitamos el acento\r\n                    var sinAcento = newWord.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\") //Quita los acentos\r\n                    location.href = \"nuevoJuego.html\"; //Redireccionamos\r\n                    sessionStorage.setItem(\"palabra\", sinAcento.toUpperCase()); //Guardamos la palabra con sessionStorage\r\n            }\r\n        }\r\n    }\r\n\r\n  var nuevaPalabra = sessionStorage.getItem(\"palabra\"); //Llamamos el valor que contiene el key se sessionStorage\r\n  //Removes el null del arreglo, para que no de error\r\n    if(nuevaPalabra == null){\r\n        sessionStorage.removeItem('palabra');\r\n    }else{\r\n        palabras.push(nuevaPalabra); //Agrega la palbra si no es null\r\n    }  \r\n\r\n//Elige una palabra aleatoria\r\nfunction palabraAleatoria(){ \r\n    var aleatoria = (Math.floor(Math.random() * palabras.length));\r\n    return palabras[aleatoria];\r\n}\r\n\r\n//Ejecuta la funcion que inicia el juego\r\nfunction nuevoJuego(){\r\n    entrada.value = '';\r\n    malas.innerHTML = '';\r\n    var palabra = palabraAleatoria();\r\n    \r\n    juego = {}; //Emepzamos como un objeto vacio\r\n    juego.palabra = palabra; //Le asignamos el  valor de la palabra segun la palabra aleatoria\r\n    juego.estado = 7; //Nuestro valor inicia en 7\r\n    juego.adivinado = new Set(); //Crea un nuevo grupo para guardar las letras adivinadas\r\n    juego.errado = new Set();//Crea un nuevo grupo para guardar las letras erradas\r\n    finalizado = false; //El valor de finalizado inicia en false\r\n    var letras = new Set();\r\n    for(let letra of palabra){\r\n        letras.add(letra);\r\n    }\r\n    juego.letras = letras;\r\n    juego.restante = letras.size; //Toma el tamaño \r\n    dibujar(juego);\r\n}\r\nnuevoJuego();"]}